From e4443f5fce912137faf8a90d376d3ebf4ba3a8bf Mon Sep 17 00:00:00 2001
From: NurKeinNeid <nurkeinneid@derpfest.org>
Date: Mon, 3 Mar 2025 01:22:24 +0100
Subject: [PATCH 06/24] OnGoingActionProgressController: Store current drawable
 for icon

Change-Id: I8308dd789d06781c1d1a174dfe304c1facafa35d
Signed-off-by: NurKeinNeid <nurkeinneid@derpfest.org>
---
 .../systemui/statusbar/OnGoingActionProgressController.java      | 1 +
 1 file changed, 1 insertion(+)

diff --git a/packages/SystemUI/src/com/android/systemui/statusbar/OnGoingActionProgressController.java b/packages/SystemUI/src/com/android/systemui/statusbar/OnGoingActionProgressController.java
index 12a0ebbb9..0292d4d6f 100644
--- a/packages/SystemUI/src/com/android/systemui/statusbar/OnGoingActionProgressController.java
+++ b/packages/SystemUI/src/com/android/systemui/statusbar/OnGoingActionProgressController.java
@@ -161,6 +161,7 @@ public class OnGoingActionProgressController implements NotificationListener.Not
         mCurrentProgress = notification.extras.getInt(Notification.EXTRA_PROGRESS, 0);
         IconFetcher.AdaptiveDrawableResult drawable =
                 mIconFetcher.getMonotonicPackageIcon(sbn.getPackageName());
+        mCurrentDrawable = drawable.drawable;
         updateIconImageView(drawable);
         updateViews();
     }
-- 
2.43.0

